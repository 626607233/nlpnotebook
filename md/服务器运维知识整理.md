## 服务器运维知识整理



### 一. 操作系统建议

如果主要用tensorflow来作为深度学习框架，建议安装ubuntu16.04的服务器版

有很多显卡的高版本驱动与桌面版的图形界面不兼容，导致容易出现循环登陆问题

pytorch都懒得出windows版本了



1、比如我们在服务器上除了训练还要接着干别的事情（比如还要捣鼓一下贪吃蛇什么的），那么我们就可以直接将训练任务挂后台。具体如下。

在linux中，在命令后面加上 *&* 符号可以将命令在后台执行，为了能看到训练日志，我们当时还需要输出重定向（否则会打印到屏幕上干扰正常工作的），所以比如我们调batchsize参数时可以这样：

```shell
dlnlp@ubuntu:~$ python train.py --batchsize=16 > log_batch16.txt &
```

通过 *jobs* 命令可以看到后台任务的运行状况（running、stopped等），通过 *bg [任务号]* 可以让后台stopped的命令继续running，通过 *fg [任务号]* 可以让后台的任务来前台执行。对于前台已经执行起来的任务，可以 *ctrl+z* 来丢进后台（丢后台时stop了的话用bg让其run起来）。

如果我们还不希望ssh断开后导致训练任务终止，那么需要再在命令前面加上 *nohup 。如：*

```shell
dlnlp@ubuntu:~$ nohup python train.py --batchsize=16 > log_batch16.txt &
```

2、如果我们特别着急，不仅要并行挂着很多训练任务，而且都要实时的监控它们的训练进展，那么使用 *screen*命令吧，这个命令就相当于可以让你同时开很多个窗口（就像桌面上那样，你可以开很多应用程序的很多窗口），而且多个窗口之间可以轻松切换，同样这种方法不会因为ssh的断开而停止训练任务。





### 参考文献

[如何与深度学习服务器优雅的交互？（长期更新）](https://zhuanlan.zhihu.com/p/32496193)